<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Pro 4 - Stories &amp; maps</title>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0">
    <meta name="description" content=" Beskrivelsen med keywords af produktet ">
    <meta name="author" content="Amalie Knattrup Nielsen">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Petit+Formal+Script" rel="stylesheet">
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
</head>
    
<body>

<!-- Mapbox js -->
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>    
    
<!-- your map is loaded to #map -->
<div id='map'></div>
<div id='features'>
    <section id='intro'>
        <h1>Moonrise Kingdom</h1>
        <h2> Real and fictive locations </h2>
    </section>
    <section id='suzy-home' class='active'>
       <h3>Suzy's Home</h3>
        <p>The real house is the Conanicut Island Lighthouse, which is located in James Town on Conanicut Island. It is a real private home, who has lend their exterior to create this nice looking home.</p>
        <img class="difference" src="images/real-house.jpg" alt="real-house">
        <img class="difference" src="images/movie-house.png" alt="movie-house">
        <p> This is the place where 12&#45;year&#45;old Suzy lives with her parents and 3 brothers.</p>
        <img class="map" src="images/island-map.png" alt="map">
    </section>
    <section id='camp-ivanhoe'>
         <h3>Camp Ivanhoe</h3>
        <p>In reality Camp Ivanhoe was constructed on Bayfield Farm at Camp Fuller Road in South Kingstown. So not a real campsite but a piece of land got to be the location of the Scouts of Troop 55. </p>
        <img class="difference" src="images/camp-real.jpg" alt="camp-real"> 
        <img class="difference" src="images/camp-movie.jpg" alt="camp-real">
        <p>The young Sam lives here for the summer the summers of 1964 &amp; 1965 with Troop 55 of the Khaki Scouts. </p>
        <img class="map" src="images/island-map.png" alt="map">
    </section>
    <section id='church'>
        <h3>St. Jack's Church</h3>
        <p>The church that gets used a couple of times mostly for the interior is a Church in Newport called Trinity Church. Though we mostly see the inside, the whole structure is included as the spire that in the climax of the movie falls down exits but still on and in fine condition.</p>
        <img class="difference" src="images/church-real.jpg">
        <img class="difference" src="images/church-movie.jpg">
        <p>This church really plays an important role for these young kids as it is the place they meet for the first time at a play called Noye's Fludde. It is also the place where the world around them finally realise that the young lovers can't be kept apart as they try to make an escape in the middle of a violent storm that in eventually takes down the spire.</p>
        <img class="map" src="images/island-map.png" alt="map">
    </section>
    <section id='cove'>
        <h3>‘Moonrise Kingdom’ cove</h3>
        <p>The cove itself is a bay area right beneath Fort Wetherall in Jamestown. This is the main location for these scenes with some changes and shots from other nearby coves is also used depending on the angle</p>
        <img class="difference" src="images/cove-real.png" alt="cove-real">
        <img class="difference" src="images/cove-movie.png" alt="cove-movie">
        <p>After the two lovers run away the first time around hiking through the woods, they end up at this beatiful campsite. They share a lot of moments at this place, but unlikely gets found here as well after lodging for a night.</p>
        <img class="map" src="images/island-map.png" alt="map">
    </section>
    <section id='fort-lebanon'>
        <h3>Fort Lebanon</h3>
        <p>This Camp site unlike the other one is actually a real life campsite for real Scout troops, Camp Yawgoog in Rockville. A very big camp site so chosen locations are used. </p>
        <img class="difference" src="images/fort-real.jpg" alt="">
        <img class="difference" src="images/fort-movie.jpg" alt="">
        <p>The place for Suzy and Sam's second attempt at running away. With the help of some of the members of Sam's scout troop they get here and they almost manage to get away this time but nature gets in the way and they end up having to take refuge in St. Jack's Church</p>
        <img class="map" src="images/island-map.png" alt="map">
    </section>
    <!-- <section id='police'>
        <h3>Island Police</h3>
        <p></p>
    </section> -->
    
    </div>

<script>
/**
 * Load the map
 **/
mapboxgl.accessToken = 
    'pk.eyJ1IjoiZWFhYWtuaSIsImEiOiJjamZrdDVxZXUwYnIwMndsOXB2M3VxcDNkIn0.fBoZ4lUEkhjHJENg65c-gQ';
    
    
/*var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/eaaakni/cjfm984490pws2ro0b6zocbqm'
});*/

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/eaaakni/cjfm984490pws2ro0b6zocbqm',
    center: [-71.329701, 41.694230],
    zoom: 9,
    pitch: 45
});

var chapters = {
    'intro': {
    center: [-71.329701, 41.694230],
    zoom: 9,
    pitch: 45
},
    'suzy-home': {
        bearing: 27,
        center: [-71.370334, 41.573149],
        zoom: 15.5,
        pitch: 20
    },
    'camp-ivanhoe': {
        duration: 6000,
        center: [-71.522401, 41.409453],
        bearing: 150,
        zoom: 15,
        pitch: 0
    },
    'church': {
        bearing: 90,
        center: [-71.313900, 41.487500],
        zoom: 15,
        speed: 0.6,
        pitch: 40
    },
    'cove': {
        bearing: 90,
        center: [ -71.359240, 41.477899],
        zoom: 16.5
    },
    'fort-lebanon': {
        bearing: 45,
        center: [-71.782168, 41.518983],
        zoom: 14.81,
        pitch: 20,
        speed: 0.5
    },
    'police': {
        bearing: 180,
        center: [-71.237401, 41.558752],
        zoom: 15
    }
};

// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};

var activeChapterName = 'intro';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    map.flyTo(chapters[chapterName]);

    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;
}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
</script>

</body>
</html>